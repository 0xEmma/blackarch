# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname='volatility'
pkgver='2.3'
pkgrel=6
groups=('blackarch' 'blackarch-forensic')
pkgdesc="A memory forensics toolkit"
arch=('any')
url='https://www.volatilesystems.com/default/volatility'
license=('GPL')
depends=('python2' 'python2-crypto')
source=("http://volatility.googlecode.com/files/volatility-$pkgver.tar.gz")
sha1sums=('4e8a304aeea8f52639e6999258430532e4838650')

package() {
  cd "$srcdir/volatility-${pkgver}"

  mkdir -p "$pkgdir/usr/share/volatility"

  python2 setup.py build install --root="$pkgdir"

  # This name makes more sense.
  ln -s vol.py "$pkgdir/usr/bin/volatility"

  mv "$pkgdir/usr/tools" "$pkgdir/usr/share/volatility"
  mv "$pkgdir/usr/contrib" "$pkgdir/usr/share/volatility"
}
