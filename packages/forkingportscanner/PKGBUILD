# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname='forkingportscanner'
pkgver='1'
pkgrel=1
groups=('blackarch' 'blackarch-scanner')
pkgdesc='Simple and fast forking port scanner written in perl. Can only scan on host at a time, the forking is done on the specified port range. Or on the default range of 1-65535. Has the ability to scan UDP or TCP, defaults to tcp.'
url='http://magikh0e.xyz/'
arch=('any')
license=('')
depends=('perl')
source=('http://magikh0e.xyz/pubCode/ForkingPortScanner.txt')
sha1sums=('894b03add88d010314e646faf8074ecb7cbe9e03')

package() {
  cd "$srcdir/"

  install -dm755 "$pkgdir/usr/bin"
  install -dm755 "$pkgdir/usr/share/forkingportscanner"

  cp -a * "$pkgdir/usr/share/forkingportscanner"

  cat > "$pkgdir/usr/bin/ForkingPortScanner" << EOF
#!/bin/sh
exec perl /usr/share/forkingportscanner/ForkingPortScanner.txt "\$@"
EOF

  chmod +x "$pkgdir/usr/bin/ForkingPortScanner"
}
