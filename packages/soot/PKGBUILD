pkgname=soot
pkgver=2.5.0
pkgrel=1
pkgdesc="A Java Bytecode Analysis and Transformation Framework."
arch=('any')
url="http://www.sable.mcgill.ca/soot"
license=('LGPL')
depends=('java-runtime')
noextract=("soot-$pkgver.jar")
source=("http://www.sable.mcgill.ca/software/soot-$pkgver.jar")
md5sums=('4fc1880f4bf183dfced1bf3a6e9479ae')

build() {
  msg2 "Generate executable script..."
  cat > "${srcdir}/soot.sh" << EOF
#!/bin/sh
cd '/usr/share/java/soot'
"\$JAVA_HOME/bin/java" -jar '/usr/share/java/soot/soot.jar' "\$@"
EOF
}

package() {
  install -Dm644 "$srcdir/$pkgname-$pkgver.jar" "$pkgdir/usr/share/java/soot/soot.jar"

  install -Dm755 "$srcdir/soot.sh" "$pkgdir/usr/bin/soot"
}
