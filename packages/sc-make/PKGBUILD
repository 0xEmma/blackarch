# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname='sc-make'
pkgver='1.0'
pkgrel=1
groups=('blackarch')
pkgdesc='Tool for automating shellcode creation.'
arch=('any')
url='https://github.com/t00sh/sc-make'
depends=('objdump' 'nasm' 'as' 'strace' 'gcc' 'perl')
license=('GPLv3')
source=("https://github.com/t00sh/sc-make/archive/V$pkgver.zip")
sha1sums=('b55045249f2811ecaa4d6afabb4d8ba0d6575db4')

package() {
  cd "$srcdir"

  mkdir -p "$pkgdir/usr/bin"

  install -Dm644 sc-make.pl "$pkgdir/usr/share/sc-make/sc-make.pl"

  cat > "$pkgdir/usr/bin/sc-make" << EOF
#!/bin/sh
exec /usr/share/sc-make/sc-make.pl "\$@"
EOF

  chmod +x "$pkgdir/usr/bin/sc-make"
}