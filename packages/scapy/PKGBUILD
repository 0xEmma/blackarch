# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname='scapy'
pkgver='2.2.0'
pkgrel=6
groups=('blackarch' 'blackarch-networking')
pkgdesc="A powerful interactive packet manipulation program written in Python"
arch=('any')
url='http://www.secdev.org/projects/scapy/'
license=('GPL')
depends=('tcpdump' 'python2')
optdepends=('python2-gnuplot: Plotting'
            'python2-pyx: PDF and Postscript support')
makedepends=('git')
source=('git+https://github.com/BlackArch/scapy'
        "setuppatch.patch")
sha1sums=('SKIP'
          'cdd83c81bfa48ed5e4e959910ddb56f850bfd629')

prepare() {
  cd "$srcdir/scapy"
  patch < "$srcdir/setuppatch.patch"
}

build(){
  cd "$srcdir/scapy"
  python2 setup.py build
}

package() {
  cd "$srcdir/scapy"
  python2 setup.py install "--prefix=$pkgdir/usr"
}
